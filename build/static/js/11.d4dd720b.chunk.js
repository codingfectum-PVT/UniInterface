(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[11],{1651:function(e,t,n){},1668:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return u}));n(689),n(1711);var r="rgw6ez17a rgw6ez10s rgw6ez6n2 rgw6ezns rgw6ezo4",c="_13bxg42",a="rgw6ez6a6 rgw6ezug rgw6ez14g rgw6ez6hy rgw6ez692 rgw6ez4qg",s="_13bxg46 rgw6ez17s rgw6ez14g rgw6ez40y rgw6ezcg rgw6ezag rgw6ez3zg rgw6ez34 rgw6ez42a rgw6ez4g rgw6ez69u",i="_13bxg48 rgw6ez6i2 rgw6ez692 rgw6ez4qm",o="_13bxg4a rgw6ez2jg rgw6ez2dy rgw6ez22y rgw6ez28s",u="rgw6ez2oy rgw6ez69m rgw6ez4qg rgw6ez692 rgw6ez6i2"},1669:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return x}));var r=n(4),c=n.n(r),a=n(48),s=n(20),i=n(35),o=(n(69),n(1667)),u=n(1648),l=n(1670),f=function(e){var t=e.listing,n=e.newStatus,r=e.rows,c=e.setRows,a=e.callback,s=Object(i.a)(r),o=r.findIndex((function(e){return e===t}));t.status=n,a&&(t.callback=a),s[o]=t,c(s)};function b(e,t,n,r,c,a){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(c.a.mark((function e(t,n,r,a,s,i){var d,g,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({listing:t,newStatus:u.f.SIGNING,rows:n,setRows:r,callback:function(){return b(t,n,r,a,s,i)}}),d=t.marketplace,g=t.collectionAddress,j="OpenSea"===d.name?o.c:"Rarible"===d.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_API_ENDPOINT:"https://xv98mjbqk1.execute-api.us-west-2.amazonaws.com/prod/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_INFURA_KEY:"aea9eee9ae1a40efafd0ee8e823ef425",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_LOOKSRARE_MARKETPLACE_CONTRACT:"X2Y2"===d.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_API_ENDPOINT:"https://xv98mjbqk1.execute-api.us-west-2.amazonaws.com/prod/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_INFURA_KEY:"aea9eee9ae1a40efafd0ee8e823ef425",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_X2Y2_TRANSFER_CONTRACT:s,e.next=5,Object(l.b)(null!==j&&void 0!==j?j:"",g,a,(function(e){return f({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:t.status!==u.f.REJECTED&&t.status!==u.f.FAILED||i();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r,c,a,s,i){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(c.a.mark((function e(t,n,r,a,s,i,o,b){var d,j,O,h,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=i(),f({listing:t,newStatus:u.f.SIGNING,rows:n,setRows:r,callback:function(){return g(t,n,r,a,s,i,o,b)}}),j=t.asset,O=t.marketplace,e.next=5,Object(l.c)(O,j,a,s,d,(function(e){return f({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:h=e.sent,t.status===u.f.REJECTED?b():(h&&"LooksRare"===t.marketplace.name&&o(d+1),p=h?u.f.APPROVED:u.f.FAILED,f({listing:t,newStatus:p,rows:n,setRows:r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,c,a=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t}));return e+(null!==(r=a.price)&&void 0!==r?r:0)-(null!==(c=a.price)&&void 0!==c?c:0)*(a.marketplace.fee/100+t.creatorPercentage)}return e}),0);return t?Math.round(100*t+Number.EPSILON)/100:0},h=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var c={images:[e.image_preview_url,r.icon],name:e.name||"#".concat(e.tokenId),status:u.f.DEFINED,asset:e,marketplace:r};if(n.push(c),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var a={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:u.f.DEFINED,collectionAddress:e.asset_contract.address,marketplace:r};t.push(a)}}))})),[t,n]},p=function(e,t){var n=!0,r=!0,c=!0,s=!0,i=!0,o=!1,l=!1,f=!1,b=!1;0===e.length&&(i=s=!1);var d,g=Object(a.a)(e);try{for(g.s();!(d=g.n()).done;){var j=d.value;j.status!==u.f.PENDING&&(s=!1),j.status!==u.f.DEFINED&&(i=!1),j.status===u.f.SIGNING?o=!0:j.status===u.f.FAILED?l=!0:j.status===u.f.REJECTED?f=!0:j.status===u.f.PAUSED&&(b=!0)}}catch(m){g.e(m)}finally{g.f()}0===t.length&&(c=r=n=!1);var O,h=Object(a.a)(t);try{for(h.s();!(O=h.n()).done;){var p=O.value;p.status!==u.f.PENDING&&(n=!1),p.status!==u.f.DEFINED&&(r=!1),p.status!==u.f.APPROVED&&(c=!1),p.status===u.f.SIGNING?o=!0:p.status===u.f.FAILED?l=!0:p.status===u.f.REJECTED?f=!0:p.status===u.f.PAUSED&&(b=!0)}}catch(m){h.e(m)}finally{h.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:c,allCollectionsPending:s,allCollectionsDefined:i,anyActiveSigning:o,anyActiveFailures:l,anyActiveRejections:f,anyPaused:b}},m=function(e){return e!==u.f.PAUSED&&e!==u.f.APPROVED},w=function(e,t,n){e.status!==u.f.PENDING&&e.status!==u.f.DEFINED||f({listing:e,newStatus:u.f.PAUSED,rows:t,setRows:n})},x=function(e,t,n){e.status!==u.f.PAUSED&&e.status!==u.f.FAILED&&e.status!==u.f.REJECTED||f({listing:e,newStatus:u.f.DEFINED,rows:t,setRows:n})}},1707:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));n(689),n(1651);var r="_2kdvfw1",c="_2kdvfw3 _2kdvfw1 rgw6ez69u rgw6ez68m rgw6ez4am"},1710:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(48),c=n(10),a=n(195),s=n(287),i=n(604),o=n(1645),u=n(1646),l=n(1647),f=n(1648),b=n(1654),d=n(1),g=n(1668),j=n(1669),O=n(0),h=function(e){var t=e.onClick,n=e.buttonText,h=e.showWarningOverride,p=void 0!==h&&h,m=Object(l.k)((function(e){return e.sellAssets})),w=Object(l.k)((function(e){return e.addMarketplaceWarning})),x=Object(l.k)((function(e){return e.removeAllMarketplaceWarnings})),v=Object(l.i)((function(e){return e.listingStatus})),E=Object(l.i)((function(e){return e.setListingStatus})),A=Object(l.i)((function(e){return e.setListings})),z=Object(l.i)((function(e){return e.setCollectionsRequiringApproval})),P=Object(d.useState)(!1),I=Object(c.a)(P,2),N=I[0],_=I[1],R=Object(d.useState)(!1),T=Object(c.a)(R,2),S=T[0],k=T[1],C=Object(d.useRef)(null);Object(a.a)(C,(function(){_(!1)})),Object(d.useEffect)((function(){var e=Object(j.c)(m),t=Object(c.a)(e,2),n=t[0],r=t[1];A(r),z(n),E(f.f.DEFINED)}),[m]);var y=Object(d.useMemo)((function(){var e,t=m.some((function(e){return void 0===e.marketplaces||0===e.marketplaces.length})),n=m.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()<6e4})),c=m.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),a=m.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()>15552e6})),s=[],i=[],o=[],u=[],l=Object(r.a)(m);try{for(l.s();!(e=l.n()).done;){var f=e.value;if(f.newListings){var b,d=Object(r.a)(f.newListings);try{for(d.s();!(b=d.n()).done;){var g=b.value;g.price?isNaN(g.price)||g.price<0?u.push([f,g]):g.price<f.floorPrice&&!g.overrideFloorPrice?i.push([f,g]):f.floor_sell_order_price&&g.price>f.floor_sell_order_price&&o.push([f,g]):s.push([f,g])}}catch(O){d.e(O)}finally{d.f()}}}}catch(O){l.e(O)}finally{l.f()}var j=0===i.length&&0===o.length;return k(j),[t,n,c,a,s,i,o,u]}),[m]),D=Object(c.a)(y,8),L=D[0],F=D[1],G=D[2],W=D[3],U=D[4],B=D[5],M=D[6],H=D[7],V=Object(d.useMemo)((function(){return[L||F||G||W||H.length>0||U.length>0,L?"No marketplaces selected":F?"Set duration":G?"Invalid duration":W?"Max duration is 6 months":U.length>0?"".concat(U.length," item price").concat(Object(b.a)(U.length)," not set"):H.length>0?"".concat(H.length," price").concat(Object(b.a)(H.length)," are invalid"):B.length>0?"".concat(B.length," item").concat(Object(b.a)(B.length)," listed below floor"):M.length>0?"".concat(M.length," item").concat(Object(b.a)(M.length)," already listed"):""]}),[L,F,G,W,U,H,B,M]),Y=Object(c.a)(V,2),K=Y[0],q=Y[1];Object(d.useEffect)((function(){_(!1)}),[q]);var J=function(){!K&&S||p?t():function(){if(x(),!F&&!L)if(U.length>0){var e,t=Object(r.a)(U);try{for(t.s();!(e=t.n()).done;){var n=Object(c.a)(e.value,2),a=n[0],s=n[1];w(a,{message:"PLEASE SET A PRICE",marketplace:s.marketplace})}}catch(b){t.e(b)}finally{t.f()}}else if(H.length>0){var i,o=Object(r.a)(H);try{for(o.s();!(i=o.n()).done;){var u=Object(c.a)(i.value,2),l=u[0],f=u[1];!f.overrideFloorPrice&&w(l,{message:"INVALID PRICE",marketplace:f.marketplace})}}catch(b){o.e(b)}finally{o.f()}}_(!0)}()};return Object(O.jsxs)(s.b,{position:"relative",width:"full",children:[!p&&N&&q.length>0&&Object(O.jsxs)(i.c,{className:"".concat(u.c," ").concat(g.g),transition:"250",onClick:function(){return _(!1)},color:"textSecondary",zIndex:"3",borderRadius:"4",backgroundColor:"backgroundSurface",height:K?"36":"64",maxWidth:"276",position:"absolute",left:"24",bottom:"52",flexWrap:K?"nowrap":"wrap",style:{maxWidth:K?"":"225px"},ref:C,children:[Object(O.jsx)(o.D,{}),Object(O.jsx)(s.b,{marginLeft:"4",marginRight:"8",children:q}),K?Object(O.jsx)(s.b,{paddingTop:"6",children:Object(O.jsx)(o.fb,{fill:"textSecondary",height:"20",width:"20"})}):Object(O.jsxs)(i.c,{marginLeft:"72",cursor:"pointer",color:"genieBlue",onClick:function(){_(!1),k(!0),t()},children:["Continue",Object(O.jsx)(o.f,{height:"20",width:"20"})]})]}),Object(O.jsx)(s.b,{as:"button",border:"none",backgroundColor:"genieBlue",cursor:[f.f.APPROVED,f.f.PENDING,f.f.SIGNING].includes(v)||K?"default":"pointer",color:"explicitWhite",className:g.a,onClick:function(){return v!==f.f.APPROVED&&J()},type:"button",style:{opacity:![f.f.DEFINED,f.f.FAILED,f.f.CONTINUE].includes(v)||K?.3:1},children:v===f.f.SIGNING||v===f.f.PENDING?Object(O.jsxs)(i.c,{gap:"8",children:[Object(O.jsx)(o.I,{stroke:"backgroundSurface",height:"20",width:"20"}),v===f.f.PENDING?"Pending":"Proceed in wallet"]}):v===f.f.APPROVED?"Complete!":v===f.f.PAUSED?"Paused":v===f.f.FAILED?"Try again":v===f.f.CONTINUE?"Continue":n})]})}},1711:function(e,t,n){},1712:function(e,t,n){},1718:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(245),c=function(e){var t=e.children;return Object(r.createPortal)(t,document.body)}},1719:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(287),c=(n(689),n(1712),n(0)),a=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},s=function(e){var t=e.onClick,n=void 0===t?function(){return null}:t;return Object(c.jsx)(r.b,{className:"_199qdl71 rgw6ez3a4 rgw6ez2z4 rgw6ez154 rgw6ez1bg rgw6ez43g rgw6ez3za rgw6ez4j4 rgw6ez3ma",onClick:n})}},1887:function(e,t,n){},1888:function(e,t,n){},1889:function(e,t,n){},1890:function(e,t,n){},1891:function(e,t,n){},1930:function(e,t,n){"use strict";n.r(t);var r,c=n(35),a=n(4),s=n.n(a),i=n(20),o=n(10),u=n(69),l=n(224),f=n(17),b=n(935),d=n(150),g=n(287),j=n(604),O=n(1646),h=n(1648),p=n(1658),m=n(64),w=n(66),x=(n(689),n(933),n(1887),n(0)),v=[h.d.FETCHING_ROUTE,h.d.CONFIRMING_IN_WALLET,h.d.FETCHING_FINAL_ROUTE,h.d.PROCESSING_TRANSACTION],E=function(e){var t=e.balance,n=e.isConnected,r=e.sufficientBalance,c=e.totalEthPrice,a=e.totalUsdPrice,s=e.bagStatus,i=e.fetchAssets,o=e.assetsAreInReview,u=Object(m.s)(),l=Object(m.d)(w.a.WALLET),f=v.includes(s)||l,b=n&&(f||!r||o),E=n&&(!r||s===h.d.WARNING);return Object(x.jsxs)(j.b,{className:"rgw6ez294 rgw6ez2em rgw6ezvg",children:[E&&Object(x.jsx)(j.c,{className:"m29kpj4 rgw6ez2js rgw6ez23a rgw6ez6be rgw6ez6cy rgw6ez42a rgw6ezaa rgw6ezcm",children:r?"Something went wrong. Please try again.":"Insufficient funds (".concat(Object(p.h)(t.toString())," ETH)")}),Object(x.jsxs)(j.b,{borderTopLeftRadius:E?"0":"12",borderTopRightRadius:E?"0":"12",className:"rgw6ez294 rgw6ez2em rgw6ez2js rgw6ez23a rgw6ez4gy rgw6ez48g rgw6ez6ei rgw6ez6g2",children:[Object(x.jsxs)(j.b,{gap:"4",paddingTop:"8",paddingBottom:"20",children:[Object(x.jsxs)(j.c,{justifyContent:"space-between",children:[Object(x.jsx)(g.b,{fontWeight:"semibold",className:O.k,children:"Total"}),Object(x.jsx)(g.b,{fontWeight:"semibold",className:O.k,children:"".concat(Object(p.h)(c.toString())," ETH")})]}),Object(x.jsx)(j.c,{justifyContent:"flex-end",color:"textSecondary",className:O.c,children:"".concat(Object(p.a)(a,!0))})]}),Object(x.jsxs)(j.c,{as:"button",color:"explicitWhite",className:"m29kpj6 rgw6ezca rgw6ezam rgw6ez6me rgw6ez2js rgw6ez23a rgw6ez4kg rgw6ez6ha rgw6ez69u rgw6ezcm rgw6ez68q rgw6ez42a rgw6ez3om",disabled:b,onClick:function(){n?i():u()},children:[f&&Object(x.jsx)(d.a,{size:"20px",stroke:"white"}),!n||l?"Connect wallet":s===h.d.FETCHING_FINAL_ROUTE||s===h.d.CONFIRMING_IN_WALLET?"Proceed in wallet":s===h.d.PROCESSING_TRANSACTION?"Transaction pending":"Pay"]})]})]})},A=n(48),z=n(1729),P=n(1645),I=n(128),N=n(1647),_=n(1655),R=n(1654),T=n(1),S=n(1710),k=n(1668),C=n(394),y=n(1653),D=function(e){var t=e.sectionTitle,n=e.caption,r=void 0===n?void 0:n,c=e.title,a=void 0===c?void 0:c,u=e.rows,l=e.index,f=e.openIndex,b=e.isSuccessScreen,d=void 0!==b&&b,p=Object(T.useState)(!1),m=Object(o.a)(p,2),w=m[0],v=m[1],E=u.some((function(e){return e.status!==h.f.APPROVED})),z=Object(N.k)((function(e){return e.sellAssets})),I=Object(N.k)((function(e){return e.removeAssetMarketplace})),_=function(e){if(1===l){var t,n=Object(A.a)(z);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.asset_contract.address===e.collectionAddress&&I(r,e.marketplace)}}catch(c){n.e(c)}finally{n.f()}}else I(e.asset,e.marketplace)};function R(e){var t,n,r=e,c=r.asset.newListings;return null!==(t=null===c||void 0===c||null===(n=c.find((function(e){return e.marketplace.name===r.marketplace.name})))||void 0===n?void 0:n.price)&&void 0!==t?t:0}Object(T.useEffect)((function(){v(l===f)}),[l,f]);var S=!E&&u.length>0&&!d;return Object(x.jsxs)(j.c,{flexWrap:"wrap",className:O.m,marginTop:"10",marginBottom:"10",onClick:function(){return u.length>0&&v(!w)},color:S?"green":"textPrimary",children:[S&&Object(x.jsx)(P.e,{style:{marginRight:"8px"}}),t,!d&&Object(x.jsx)(P.o,{className:Object(C.default)("".concat(w?"":k.c," ").concat(k.b))}),(w||d)&&Object(x.jsxs)(j.b,{gap:"12",width:"full",paddingTop:d?"28":"auto",className:Object(C.default)(!d&&k.e),children:[r&&Object(x.jsx)(g.b,{color:"textPrimary",fontWeight:"normal",className:r,children:r}),a&&Object(x.jsx)(g.b,{color:"textSecondary",className:O.a,children:a}),Object(x.jsx)(j.b,{gap:"8",children:u.map((function(e,t){var n;return Object(x.jsxs)(j.b,{gap:"8",children:[Object(x.jsxs)(j.c,{children:[e.images.map((function(t,n){return Object(x.jsx)(g.b,{as:"img",height:"20",width:"20",borderRadius:0===n&&e.collectionAddress?"round":"4",style:{zIndex:2-n},className:k.d,src:t,alt:e.name},n)})),Object(x.jsx)(g.b,{marginLeft:"8",marginRight:"auto",fontWeight:"normal",color:"textPrimary",textOverflow:"ellipsis",overflow:"hidden",maxWidth:{sm:"max",md:e.status===h.f.REJECTED||e.status===h.f.FAILED?"120":"full"},className:O.c,children:e.name}),d?R(e)&&"".concat(Object(y.c)(Object(y.g)(null!==(n=R(e))&&void 0!==n?n:0).toString())," ETH"):e.status===h.f.APPROVED?Object(x.jsx)(P.e,{height:"20",width:"20"}):e.status===h.f.FAILED||e.status===h.f.REJECTED?Object(x.jsxs)(j.c,{gap:"4",children:[Object(x.jsx)(g.b,{fontWeight:"normal",fontSize:"14",color:"textSecondary",children:e.status}),Object(x.jsx)(P.A,{})]}):e.status===h.f.SIGNING&&Object(x.jsx)(P.I,{height:"20",width:"20",stroke:"#4673FA"})]}),(e.status===h.f.FAILED||e.status===h.f.REJECTED)&&Object(x.jsxs)(j.c,{gap:"8",justifyContent:"center",children:[Object(x.jsx)(g.b,{width:"120",as:"button",className:O.f,borderRadius:"12",border:"none",color:"red400",height:"32",cursor:"pointer",style:{backgroundColor:"#FA2B391A"},onClick:function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),_(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Remove"}),Object(x.jsx)(g.b,{width:"120",as:"button",className:O.f,borderRadius:"12",border:"none",color:"genieBlue",height:"32",cursor:"pointer",style:{backgroundColor:"#4C82FB29"},onClick:function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),!e.callback){t.next=4;break}return t.next=4,e.callback();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Try again"})]})]},t)}))})]})]})},L=n(1669),F=function(){var e=Object(f.useWeb3React)().provider,t=Object(N.k)((function(e){return e.sellAssets})),n=null===e||void 0===e?void 0:e.getSigner(),r=Object(N.i)((function(e){return e.listings})),c=Object(N.i)((function(e){return e.setListings})),a=Object(N.i)((function(e){return e.collectionsRequiringApproval})),u=Object(N.i)((function(e){return e.setCollectionsRequiringApproval})),l=Object(T.useState)(0),b=Object(o.a)(l,2),d=b[0],p=b[1],m=Object(N.i)((function(e){return e.listingStatus})),w=Object(N.i)((function(e){return e.setListingStatus})),v=Object(T.useState)(!1),E=Object(o.a)(v,2),C=E[0],y=E[1],F=Object(N.i)((function(e){return e.looksRareNonce})),G=Object(N.i)((function(e){return e.setLooksRareNonce})),W=Object(N.i)((function(e){return e.getLooksRareNonce})),U=Object(N.d)((function(e){return e.toggleBag})),B=Object(T.useRef)(F),M=Object(N.h)();Object(T.useEffect)((function(){N.i.subscribe((function(e){return B.current=e.looksRareNonce}))}),[]);var H=Object(T.useMemo)((function(){return Object(L.d)(t)}),[t]);Object(T.useEffect)((function(){(null===a||void 0===a?void 0:a.length)&&y(a.every((function(e){return e.status===h.f.APPROVED}))),!C||m!==h.f.PENDING&&m!==h.f.CONTINUE||Y()}),[a,C]);var V=function(){var e=Object(i.a)(s.a.mark((function e(){var t,r,c,i,o,l,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return w(h.f.SIGNING),t=z.b[z.a.MAINNET],e.next=6,n.getAddress();case 6:return r=e.sent,e.next=9,Object(_.m)(r);case 9:c=e.sent,G(null!==c&&void 0!==c?c:0),(null===a||void 0===a?void 0:a.some((function(e){return e.status===h.f.PAUSED})))||(w(h.f.SIGNING),p(1)),i=t.TRANSFER_MANAGER_ERC721,o=Object(A.a)(a);try{for(o.s();!(l=o.n()).done;)f=l.value,Object(L.h)(f.status)&&Object(L.a)(f,a,u,n,i,K)}catch(s){o.e(s)}finally{o.f()}case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var t=Object(i.a)(s.a.mark((function t(){var a,i,o,u,l,f;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return");case 2:w(h.f.SIGNING),p(2),i=Object(A.a)(r),t.prev=5,i.s();case 7:if((o=i.n()).done){t.next=15;break}if(u=o.value,t.t0=Object(L.h)(u.status),!t.t0){t.next=13;break}return t.next=13,Object(L.g)(u,r,c,n,e,W,G,K);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),i.e(t.t1);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return l=r.every((function(e){return e.status===h.f.APPROVED})),f=r.some((function(e){return e.status===h.f.PAUSED})),l?(p(0),w(h.f.APPROVED)):f||w(h.f.FAILED),t.t2=_.l,t.t3=r,t.next=30,null===n||void 0===n?void 0:n.getAddress();case 30:if(t.t5=a=t.sent,t.t4=null!==t.t5,!t.t4){t.next=34;break}t.t4=void 0!==a;case 34:if(!t.t4){t.next=38;break}t.t6=a,t.next=39;break;case 38:t.t6="";case 39:return t.t7=t.t6,t.next=42,(0,t.t2)(t.t3,t.t7);case 42:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var e,t=Object(A.a)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(L.e)(n,a,u)}}catch(l){t.e(l)}finally{t.f()}var s,i=Object(A.a)(r);try{for(i.s();!(s=i.n()).done;){var o=s.value;Object(L.e)(o,r,c)}}catch(l){i.e(l)}finally{i.f()}},q=Object(T.useMemo)((function(){return m===h.f.APPROVED}),[m]);return Object(x.jsxs)(j.b,{paddingTop:"20",paddingBottom:"20",paddingLeft:"12",paddingRight:"12",children:[Object(x.jsxs)(j.c,{className:O.k,marginBottom:"10",children:[M&&!q&&Object(x.jsx)(g.b,{paddingTop:"4",marginRight:"4",onClick:U,children:Object(x.jsx)(P.m,{height:28,width:28})}),q?"Success!":"Listing ".concat(t.length," NFTs"),Object(x.jsx)(g.b,{as:"button",border:"none",color:"textSecondary",backgroundColor:"backgroundSurface",marginLeft:"auto",marginRight:"0",paddingRight:"0",display:{sm:"flex",md:"none"},cursor:"pointer",onClick:U,children:Object(x.jsx)(P.fb,{height:28,width:28,fill:I.c.colors.textPrimary})})]}),Object(x.jsx)(j.b,{overflowX:"hidden",overflowY:"auto",style:{maxHeight:"60vh"},children:q?Object(x.jsx)(D,{sectionTitle:"Listed ".concat(r.length," item").concat(Object(R.a)(r.length)," for sale"),rows:r,index:0,openIndex:d,isSuccessScreen:!0}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(D,{sectionTitle:"Approve ".concat(a.length," collection").concat(Object(R.a)(a.length)),title:"COLLECTIONS",rows:a,index:1,openIndex:d}),Object(x.jsx)(D,{sectionTitle:"Confirm ".concat(r.length," listing").concat(Object(R.a)(r.length)),caption:"Now you can sign to list each item",title:"NFTS",rows:r,index:2,openIndex:d})]})}),Object(x.jsx)("hr",{className:k.f}),Object(x.jsxs)(j.c,{className:O.m,marginTop:"12",marginBottom:q?"8":"20",children:["Return if sold",Object(x.jsxs)(j.c,{className:O.n,marginLeft:"auto",marginRight:"0",children:[H,"\xa0ETH"]})]}),q?Object(x.jsxs)(g.b,{as:"span",className:O.g,color:"textSecondary",children:["Status:"," ",Object(x.jsx)(g.b,{as:"span",color:"green200",children:"Confirmed"})]}):Object(x.jsx)(S.a,{onClick:function(){!function(){var e,t=Object(A.a)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(L.f)(n,a,u)}}catch(l){t.e(l)}finally{t.f()}var s,i=Object(A.a)(r);try{for(i.s();!(s=i.n()).done;){var o=s.value;Object(L.f)(o,r,c)}}catch(l){i.e(l)}finally{i.f()}}(),C?Y():V()},buttonText:"Start listing",showWarningOverride:M}),(m===h.f.PENDING||m===h.f.SIGNING)&&Object(x.jsx)(g.b,{as:"button",border:"none",backgroundColor:"backgroundSurface",cursor:"pointer",color:"orange",className:k.a,onClick:function(){K()},type:"button",children:"Stop listing"})]})},G=n(1718),W=n(1719),U=n(1695),B=n(1675),M=n(1663),H=n(1728),V=n(1703),Y=n(605),K=n(99),q=(n(1888),n(33)),J=n(2),X=Object(J.keyframes)(r||(r=Object(q.a)(["\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]))),Q=J.default.circle.withConfig({componentId:"sc-5ix82i-0"})(["stroke-dasharray:1000;stroke-dashoffset:0;-webkit-animation:"," linear;animation:"," linear;animation-duration:160s;stroke:",";"],X,X,(function(e){return e.theme.accentActive})),Z=function(){return Object(x.jsx)(g.b,{display:"flex",position:"absolute",children:Object(x.jsx)("svg",{height:"18px",width:"18px",children:Object(x.jsx)(Q,{strokeWidth:"".concat(1.5),strokeLinecap:"round",style:{transform:"rotate(90deg)",transformOrigin:"50% 50%"},fill:"transparent",r:"8px",cx:"9px",cy:"9px"})})})},$=n(1707),ee=n(72),te=(n(1889),"rgw6ez12a rgw6ez18s rgw6ez69m"),ne="_1kuawch",re="rgw6ezca rgw6ezag rgw6ez6ma rgw6ez6je rgw6ez40a rgw6ez40g rgw6ez48m",ce=function(){return Object(x.jsx)(g.b,{position:"relative",background:"loadingBackground",className:te,children:Object(x.jsxs)(g.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"grey500",fontSize:"12",fontWeight:"normal",children:["Image",Object(x.jsx)("br",{}),"not",Object(x.jsx)("br",{}),"available"]})})},ae=function(e){var t=e.asset,n=e.usdPrice,r=e.removeAsset,c=e.showRemove,a=e.grayscale,s=e.isMobile,i=Object(T.useState)(!1),u=Object(o.a)(i,2),f=u[0],b=u[1],d=Object(T.useState)(!1),O=Object(o.a)(d,2),h=O[0],m=O[1],w=Object(T.useState)(!t.smallImageUrl),v=Object(o.a)(w,2),E=v[0],A=v[1],z=function(){return b(!f)},I=Object(T.useRef)(null),N=c&&f;return f&&I.current&&!1===I.current.matches(":hover")&&b(!1),Object(x.jsx)(ee.b,{to:Object(p.i)(t),style:{textDecoration:"none"},children:Object(x.jsxs)(j.c,{ref:I,className:"_1kuawc1 rgw6ez28s rgw6ez2ea rgw6ez2jg rgw6ez22y rgw6ez48g rgw6ez3oa rgw6ez68q rgw6ez1ay rgw6ez69u",onMouseEnter:z,onMouseLeave:z,children:[Object(x.jsxs)(g.b,{position:"relative",display:"flex",children:[Object(x.jsx)(g.b,{display:c&&s?"block":"none",className:"rgw6ez43a rgw6ez354 rgw6ez3am",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(t)},transition:"250",zIndex:"1",children:Object(x.jsx)(P.p,{})}),!E&&Object(x.jsx)(g.b,{as:"img",src:t.smallImageUrl,alt:t.name,className:Object(C.default)(te,a&&!f&&ne),onLoad:function(){m(!0)},onError:function(){A(!0)},visibility:h?"visible":"hidden"}),!h&&Object(x.jsx)(g.b,{position:"absolute",className:"".concat(te," ").concat($.b)}),E&&Object(x.jsx)(ce,{})]}),Object(x.jsxs)(j.b,{overflow:"hidden",width:"full",color:a?"textSecondary":"textPrimary",children:[Object(x.jsx)(j.c,{overflow:"hidden",width:"full",justifyContent:"space-between",whiteSpace:"nowrap",gap:"16",children:Object(x.jsx)(g.b,{className:"_1kuawcn rgw6ezam rgw6ezcg rgw6ez6je rgw6ez40g rgw6ez40a",children:t.name||t.tokenId})}),Object(x.jsxs)(j.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(x.jsx)(g.b,{className:re,children:t.collectionName}),t.collectionIsVerified&&Object(x.jsx)(P.eb,{className:"rgw6ez3sm"})]})]}),N&&!s&&Object(x.jsx)(g.b,{marginLeft:"16",className:"rgw6ezcm rgw6ezag rgw6ez6m6 rgw6ez28y rgw6ez2eg rgw6ez2js rgw6ez23a rgw6ez4gs rgw6ez48g rgw6ez69u",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(t)},children:"Remove"}),(!N||s)&&Object(x.jsxs)(j.b,{flexShrink:"0",children:[Object(x.jsx)(g.b,{className:"_1kuawcl rgw6ez3nm rgw6ezam rgw6ezcm rgw6ez3sm",children:"".concat(Object(p.h)(t.updatedPriceInfo?t.updatedPriceInfo.ETHPrice:t.priceInfo.ETHPrice)," ETH")}),Object(x.jsx)(g.b,{className:re,children:"".concat(Object(p.a)(n?parseFloat(Object(l.formatEther)(t.updatedPriceInfo?t.updatedPriceInfo.ETHPrice:t.priceInfo.ETHPrice))*n:n,!0))})]})]})})},se=function(e){var t,n=e.asset,r=e.usdPrice,c=e.markAssetAsReviewed,a=e.top,s=e.isMobile,i=u.a.from(null===(t=n.updatedPriceInfo)||void 0===t?void 0:t.ETHPrice).gt(u.a.from(n.priceInfo.ETHPrice));return Object(x.jsxs)(j.b,{className:"rgw6ez2k4 rgw6ez23m rgw6ezjg rgw6ezoy rgw6ez4k4 rgw6ez3ny rgw6ez48g rgw6ez692 rgw6ez6i2 rgw6ez4ta rgw6ez4zs rgw6ez1ay rgw6ez68q",borderTopColor:a?"backgroundOutline":"transparent",children:[Object(x.jsxs)(j.c,{className:"rgw6ezca rgw6ezag rgw6ez6ma rgw6ez46s rgw6ez3nm",children:[i?Object(x.jsx)(P.Y,{}):Object(x.jsx)(P.X,{}),Object(x.jsx)(g.b,{children:"Price ".concat(i?"increased":"decreased"," from ").concat(Object(p.h)(n.priceInfo.ETHPrice)," ETH")})]}),Object(x.jsx)(g.b,{style:{marginLeft:"-8px",marginRight:"-8px"},children:Object(x.jsx)(ae,{asset:n,usdPrice:r,removeAsset:function(){},isMobile:s})}),Object(x.jsxs)(j.c,{gap:"12",justifyContent:"space-between",children:[Object(x.jsx)(g.b,{className:"_1kuawcd _1kuawc9 rgw6ezca rgw6ezag rgw6ez6ma rgw6ez2jg rgw6ez22y rgw6ez14g rgw6ez46m rgw6ezcm rgw6ez40y rgw6ez69u rgw6ez5i4",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(n,!1)},children:"Remove"}),Object(x.jsx)(g.b,{className:"_1kuawcb _1kuawc9 rgw6ezca rgw6ezag rgw6ez6ma rgw6ez2jg rgw6ez22y rgw6ez14g rgw6ez46m rgw6ezcm rgw6ez40y rgw6ez69u rgw6ez5ls",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(n,!0)},children:"Keep"})]})]})},ie=function(e){var t=e.assets;return Object(x.jsx)(j.b,{display:"grid",style:{gridTemplateColumns:"repeat(".concat(t.length,", 20px)"),width:"".concat(32+20*(t.length-1),"px")},children:t.map((function(e,t){return Object(x.jsx)(g.b,{as:"img",src:e.smallImageUrl,width:"32",height:"32",borderStyle:"solid",borderWidth:"1px",borderColor:"backgroundSurface",borderRadius:"4",style:{zIndex:t},className:ne},"preview".concat(t))}))})},oe=function(e){var t=e.assets,n=e.usdPrice,r=e.clearUnavailableAssets,c=e.didOpenUnavailableAssets,a=e.setDidOpenUnavailableAssets,s=e.isMobile,i=Object(T.useReducer)((function(e){return!e}),!1),u=Object(o.a)(i,2),l=u[0],f=u[1],b=Object(T.useState)(8),d=Object(o.a)(b,2),g=d[0],h=d[1];return Object(T.useEffect)((function(){if(g){var e=setInterval((function(){h(g-1)}),1e3);return function(){return clearInterval(e)}}c||(r(),a(!1))}),[g,r,c,a]),t&&0!==t.length?Object(x.jsxs)(j.b,{className:"rgw6ez2k4 rgw6ez23m rgw6ezjg rgw6ezoy rgw6ez4k4 rgw6ez3oa rgw6ez48g rgw6ez692 rgw6ez6i2 rgw6ez4ta rgw6ez594 rgw6ez4zs rgw6ez1ay",children:[1===t.length&&Object(x.jsx)(ae,{asset:t[0],usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:s}),t.length>1&&Object(x.jsxs)(j.b,{children:[Object(x.jsxs)(j.c,{justifyContent:"space-between",marginBottom:l?"12":"0",cursor:"pointer",onClick:function(){!c&&a(!0),f()},children:[Object(x.jsxs)(j.c,{gap:"12",color:"textPrimary",className:O.c,children:[!l&&Object(x.jsx)(ie,{assets:t.slice(0,5)}),"No longer available"]}),Object(x.jsx)(j.c,{color:"textSecondary",children:l?Object(x.jsx)(P.n,{}):Object(x.jsx)(P.l,{})}),!c&&Object(x.jsxs)(j.c,{position:"relative",width:"20",height:"20",color:"textPrimary",justifyContent:"center",cursor:"pointer",onClick:function(){return r()},children:[Object(x.jsx)(Z,{}),Object(x.jsx)(P.r,{})]})]}),Object(x.jsx)(j.b,{gap:"8",style:{marginLeft:"-8px",marginRight:"-8px"},children:l&&t.map((function(e){return Object(x.jsx)(ae,{asset:e,usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:s},e.id)}))})]})]}):null},ue=function(){var e=Object(N.d)((function(e){return e.bagStatus})),t=Object(N.d)((function(e){return e.setBagStatus})),n=Object(N.d)((function(e){return e.markAssetAsReviewed})),r=Object(N.d)((function(e){return e.didOpenUnavailableAssets})),c=Object(N.d)((function(e){return e.setDidOpenUnavailableAssets})),a=Object(N.d)((function(e){return e.itemsInBag})),s=Object(N.d)((function(e){return e.setItemsInBag})),i=Object(N.d)((function(e){return e.removeAssetFromBag})),o=Object(N.h)(),u=Object(T.useMemo)((function(){return Object(B.a)(a)}),[a]),l=Object(Y.useQuery)(["fetchPrice",{}],(function(){return Object(M.a)()}),{}).data,f=Object(T.useMemo)((function(){return{unchangedAssets:u.filter((function(e){return e.status===h.c.ADDED_TO_BAG||e.status===h.c.REVIEWED})).map((function(e){return e.asset})),priceChangedAssets:u.filter((function(e){return e.status===h.c.REVIEWING_PRICE_CHANGE})).map((function(e){return e.asset})),unavailableAssets:u.filter((function(e){return e.status===h.c.UNAVAILABLE})).map((function(e){return e.asset})),availableItems:u.filter((function(e){return e.status!==h.c.UNAVAILABLE}))}}),[u]),b=f.unchangedAssets,d=f.priceChangedAssets,g=f.unavailableAssets,O=f.availableItems;return Object(T.useEffect)((function(){var n=d.length>0,r=u.length>0;e!==h.d.IN_REVIEW||n||t(r?h.d.CONFIRM_REVIEW:h.d.ADDING_TO_BAG)}),[e,u,d,t]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(j.b,{display:d.length>0||g.length>0?"flex":"none",children:[g.length>0&&Object(x.jsx)(oe,{assets:g,usdPrice:l,clearUnavailableAssets:function(){return s(O)},didOpenUnavailableAssets:r,setDidOpenUnavailableAssets:c,isMobile:o}),d.map((function(e,t){return Object(x.jsx)(se,{asset:e,usdPrice:l,markAssetAsReviewed:n,top:0===t&&0===g.length,isMobile:o},e.id)}))]}),Object(x.jsx)(j.b,{gap:"8",children:b.map((function(e){return Object(x.jsx)(ae,{asset:e,usdPrice:l,removeAsset:i,showRemove:!0,isMobile:o},e.id)}))})]})},le=(n(1890),function(e){var t=e.numberOfAssets,n=e.toggleBag,r=e.resetFlow,c=e.isProfilePage;return Object(x.jsxs)(j.b,{gap:"4",paddingX:"32",marginBottom:"20",children:[Object(x.jsxs)(j.c,{className:"tk1lnr1 rgw6ezcg rgw6ezam rgw6ez6me rgw6ez48g rgw6ez434",children:[c?"Sell NFTs":"My bag",Object(x.jsx)(g.b,{display:"flex",padding:"2",color:"textSecondary",cursor:"pointer",onClick:n,children:Object(x.jsx)(P.j,{})})]}),t>0&&Object(x.jsxs)(g.b,{fontSize:"14",fontWeight:"normal",style:{lineHeight:"20px"},color:"textPrimary",children:[Object(R.b)(t,"NFT")," \xb7"," ",Object(x.jsx)(g.b,{as:"span",className:"tk1lnr3 rgw6ez48s rgw6ez68q rgw6ezcm",onClick:function(){r()},children:"Clear all"})]})]})}),fe=(n(1891),function(e){var t,n,r=e.asset,c=Object(N.k)((function(e){return e.removeSellAsset})),a=Object(N.h)(),s=Object(T.useState)(!1),i=Object(o.a)(s,2),u=i[0],l=i[1],f=function(){return l(!u)};return Object(x.jsxs)(j.c,{paddingY:"8",position:"relative",onMouseEnter:f,onMouseLeave:f,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(g.b,{display:a?"flex":"none",className:"ybdtja3 rgw6ez43a rgw6ez68q",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(r)},children:Object(x.jsx)("img",{className:"rgw6ez10y",src:"/nft/svgs/minusCircle.svg",alt:"Remove item"})}),Object(x.jsx)("img",{className:"rgw6ezjs rgw6ezpa rgw6ez69m rgw6ez18s rgw6ez12a",src:r.image_url,alt:r.name})]}),Object(x.jsxs)(j.b,{gap:"4",overflow:"hidden",flexWrap:"nowrap",children:[Object(x.jsx)(g.b,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",className:O.m,children:null!==(t=r.name)&&void 0!==t?t:"#".concat(r.tokenId)}),Object(x.jsx)(g.b,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",className:O.c,children:null===(n=r.collection)||void 0===n?void 0:n.name})]}),u&&!a&&Object(x.jsx)(g.b,{marginLeft:"auto",marginRight:"0",className:"rgw6ezcm rgw6ezag rgw6ez6m6 rgw6ez28y rgw6ez2eg rgw6ez2js rgw6ez23a rgw6ez4gs rgw6ez48g rgw6ez69u rgw6ez68q",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(r)},children:"Remove"})]})}),be=function(){var e=Object(N.k)((function(e){return e.sellAssets}));return Object(x.jsx)(j.b,{children:e.length?e.map((function(e,t){return Object(x.jsx)(fe,{asset:e},t)})):null})},de=function(){var e=Object(K.f)().pathname.startsWith("/profile");return Object(x.jsx)(j.a,{height:"full",children:Object(x.jsxs)(j.b,{gap:e?"16":"12",children:[Object(x.jsx)(j.a,{children:e?Object(x.jsx)(P.G,{color:I.c.colors.textTertiary}):Object(x.jsx)(P.F,{color:I.c.colors.textTertiary})}),e?Object(x.jsx)("span",{className:O.m,children:"No NFTs Selected"}):Object(x.jsxs)(j.b,{gap:"16",children:[Object(x.jsx)(j.a,{className:O.m,style:{lineHeight:"24px"},children:"Your bag is empty"}),Object(x.jsx)(j.a,{fontSize:"12",fontWeight:"normal",color:"textSecondary",style:{lineHeight:"16px"},children:"Selected NFTs will appear here"})]})]})})},ge=function(e){var t=e.top,n=e.show;return Object(x.jsx)(g.b,{marginX:"16",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderTopColor:t?"transparent":"backgroundOutline",borderBottomColor:t?"backgroundOutline":"transparent",opacity:n?"1":"0",transition:"250"})};t.default=function(){var e=Object(f.useWeb3React)().account,t=Object(N.d)((function(e){return e.bagStatus})),n=Object(N.d)((function(e){return e.setBagStatus})),r=Object(N.d)((function(e){return e.didOpenUnavailableAssets})),a=Object(N.d)((function(e){return e.setDidOpenUnavailableAssets})),d=Object(N.d)((function(e){return e.isLocked})),p=Object(N.d)((function(e){return e.setLocked})),m=Object(N.d)((function(e){return e.reset})),w=Object(N.k)((function(e){return e.reset})),v=Object(N.k)((function(e){return e.sellAssets})),A=Object(N.j)((function(e){return e.setProfilePageState})),z=Object(N.j)((function(e){return e.state})),P=Object(N.d)((function(e){return e.itemsInBag})),I=Object(N.d)((function(e){return e.setItemsInBag})),R=Object(N.d)((function(e){return e.bagExpanded})),S=Object(N.d)((function(e){return e.toggleBag})),k=Object(N.d)((function(e){return e.setTotalEthPrice})),C=Object(N.d)((function(e){return e.setTotalUsdPrice})),y=Object(N.n)(),D=y.address,L=y.balance,q=y.provider,J=!!q&&!!D,X=Object(K.f)().pathname,Q=X.startsWith("/profile"),Z=X.startsWith("/nfts")||Q,$=Object(N.h)(),ee=Object(N.l)((function(e){return e.sendTransaction})),te=Object(N.l)((function(e){return e.state})),ne=Object(N.l)((function(e){return e.setState})),re=Object(T.useRef)(te),ce=Object(N.m)((function(e){return[e.setTransactionResponse]})),ae=Object(o.a)(ce,1)[0],se=Object(Y.useQueryClient)(),ie=Object(T.useMemo)((function(){return Object(B.a)(P)}),[P]),oe=Object(T.useState)(!1),fe=Object(o.a)(oe,2),je=fe[0],Oe=fe[1],he=Object(T.useState)(!1),pe=Object(o.a)(he,2),me=pe[0],we=pe[1],xe=Object(T.useState)(0),ve=Object(o.a)(xe,2),Ee=ve[0],Ae=ve[1],ze=Object(Y.useQuery)(["fetchPrice",{}],(function(){return Object(M.a)()}),{}).data,Pe=Object(T.useMemo)((function(){var e=ie.reduce((function(e,t){return t.status!==h.c.UNAVAILABLE?e.add(u.a.from(t.asset.updatedPriceInfo?t.asset.updatedPriceInfo.ETHPrice:t.asset.priceInfo.ETHPrice)):e}),u.a.from(0));return{totalEthPrice:e,totalUsdPrice:ze?parseFloat(Object(l.formatEther)(e))*ze:void 0}}),[ie,ze]),Ie=Pe.totalEthPrice,Ne=Pe.totalUsdPrice,_e=Object(T.useMemo)((function(){var e=Object(b.parseEther)(L.toString());return{balance:e,sufficientBalance:!J||u.a.from(e).gte(Ie)}}),[L,Ie,J]),Re=_e.balance,Te=_e.sufficientBalance,Se=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ee(null===q||void 0===q?void 0:q.getSigner(),ie.filter((function(e){return e.status!==h.c.UNAVAILABLE})).map((function(e){return e.asset})),t);case 4:!(n=e.sent)||re.current!==h.l.Success&&re.current!==h.l.Failed||(p(!1),Oe(!1),ae(n),R&&S(),m());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var t=Object(i.a)(s.a.mark((function t(){var i,o,l,f,b,g,j,O,m,w,x,v;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=ie.filter((function(e){return e.status!==h.c.UNAVAILABLE})).map((function(e){return e.asset})),o=Object(U.a)(i.reduce((function(e,t){return e.add(u.a.from(t.priceInfo.ETHPrice))}),u.a.from(0)).toString()),r&&a(!1),!d&&p(!0),n(h.d.FETCHING_ROUTE),t.prev=5,t.next=8,se.fetchQuery(["assetsRoute",o,i,e],(function(){return Object(_.h)({toSell:[o],toBuy:i,senderAddress:null!==e&&void 0!==e?e:""})}));case 8:l=t.sent,f=Object(H.a)(i,l.route),b=f.filter((function(e){return e.updatedPriceInfo})).sort(V.b),g=f.filter((function(e){return e.isUnavailable})),j=f.filter((function(e){return!e.updatedPriceInfo&&!e.isUnavailable})),O=j.length>0,m=b.length>0,w=g.length>0,x=O||m||w,v=m||w,I([].concat(Object(c.a)(g.map((function(e){return{asset:e,status:h.c.UNAVAILABLE}}))),Object(c.a)(b.map((function(e){return{asset:e,status:h.c.REVIEWING_PRICE_CHANGE}}))),Object(c.a)(j.map((function(e){return{asset:e,status:h.c.REVIEWED}}))))),p(!1),x?v?n(m?h.d.IN_REVIEW:h.d.CONFIRM_REVIEW):(Se(l),n(h.d.CONFIRMING_IN_WALLET)):n(h.d.ADDING_TO_BAG),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(5),n(h.d.ADDING_TO_BAG);case 26:case"end":return t.stop()}}),t,null,[[5,23]])})));return function(){return t.apply(this,arguments)}}();Object(T.useEffect)((function(){N.l.subscribe((function(e){return re.current=e.state}))}),[]),Object(T.useEffect)((function(){d&&!je&&Oe(!0)}),[d,je]),Object(T.useEffect)((function(){R&&S()}),[X]),Object(T.useEffect)((function(){re.current===h.l.Confirming&&n(h.d.PROCESSING_TRANSACTION),re.current!==h.l.Denied&&re.current!==h.l.Invalid||(re.current===h.l.Invalid?n(h.d.WARNING):n(h.d.CONFIRM_REVIEW),ne(h.l.New),p(!1),Oe(!1))}),[re.current]),Object(T.useEffect)((function(){k(Ie),C(Ne)}),[Ie,Ne,k,C]);var Ce=ie.length>0;return Object(x.jsx)(x.Fragment,{children:R&&Z?Object(x.jsxs)(G.a,{children:[Object(x.jsx)(j.b,{zIndex:$||je?"modal":"3",className:"_1jcz50r1 rgw6ez43g rgw6ez3a4 rgw6ez3dz rgw6ez14g rgw6ez1ay rgw6ez34m rgw6ez4ha rgw6ez48g rgw6ez2kg rgw6ez244",children:Q&&z===h.i.LISTING?Object(x.jsx)(F,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(le,{numberOfAssets:Q?v.length:ie.length,toggleBag:S,resetFlow:Q?w:m,isProfilePage:Q}),!Q&&0===ie.length&&t===h.d.ADDING_TO_BAG||Q&&0===v.length&&Object(x.jsx)(de,{}),Object(x.jsx)(ge,{top:!0,show:me&&Ee>0}),Object(x.jsx)(j.b,{ref:function(e){if(null!==e){var t=e.scrollHeight>e.clientHeight;t!==me&&we(t)}},className:"_1jcz50r3 rgw6ez294 rgw6ez2em rgw6ez1ug rgw6ez6kq",onScroll:function(e){var t=e.currentTarget.scrollTop,n=e.currentTarget.clientHeight,r=e.currentTarget.scrollHeight;Ae(t?(t+n)/r*100:0)},gap:"12",children:Q?Object(x.jsx)(be,{}):Object(x.jsx)(ue,{})}),Object(x.jsx)(ge,{show:me&&Ee<100}),Ce&&!Q&&Object(x.jsx)(E,{balance:Re,sufficientBalance:Te,isConnected:J,totalEthPrice:Ie,totalUsdPrice:Ne,bagStatus:t,fetchAssets:ke,assetsAreInReview:ie.some((function(e){return e.status===h.c.REVIEWING_PRICE_CHANGE}))}),0!==v.length&&Q&&Object(x.jsx)(g.b,{marginTop:"32",marginX:"28",paddingY:"10",className:"".concat(O.e," ").concat(O.h),backgroundColor:"accentAction",textAlign:"center",onClick:function(){$&&S(),A(h.i.LISTING)},children:"Continue"})]})}),je&&Object(x.jsx)(W.a,{onClick:function(){return d?void 0:Oe(!1)}})]}):null})}}}]);
//# sourceMappingURL=11.d4dd720b.chunk.js.map